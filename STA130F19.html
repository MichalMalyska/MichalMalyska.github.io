<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Michal Malyska" />


<title>STA130 Fall 2019</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Michal Malyska</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-university"></span>
     
    Teaching
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="STA130F19.html">
        <span class="fa fa-book"></span>
         
        STA130 - Intro to Data Science Fall 2019
      </a>
    </li>
    <li>
      <a href="STA314F19.html">
        <span class="fa fa-book"></span>
         
        STA314 - Machine Learning I Fall 2019
      </a>
    </li>
    <li>
      <a href="STA220.html">
        <span class="fa fa-book"></span>
         
        STA220 - The Practice of Statistics I Summer 2019
      </a>
    </li>
    <li>
      <a href="STA314.html">
        <span class="fa fa-book"></span>
         
        STA314 - Machine Learning I Fall 2018
      </a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Course Work
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Coursework_Summary.html">
        <span class="fa fa-book"></span>
         
        Coursework Summary
      </a>
    </li>
    <li>
      <a href="STA410_A1.html">
        <span class="fa fa-code"></span>
         
        STA410 - Computational Statistics - Assignment 1
      </a>
    </li>
    <li>
      <a href="STA410_A2.html">
        <span class="fa fa-code"></span>
         
        STA410 - Computational Statistics - Assignment 2
      </a>
    </li>
    <li>
      <a href="STA410_A3.html">
        <span class="fa fa-code"></span>
         
        STA410 - Computational Statistics - Assignment 3
      </a>
    </li>
    <li>
      <a href="STA410_A4.html">
        <span class="fa fa-code"></span>
         
        STA410 - Computational Statistics - Assignment 4
      </a>
    </li>
    <li>
      <a href="STA447_A2.html">
        <span class="fa fa-code"></span>
         
        STA447 - Stochastic Processes - Assignment 2
      </a>
    </li>
    <li>
      <a href="STA_490_ReactionTimes_Project.html">
        <span class="fa fa-code"></span>
         
        STA490 - Stats Consulting and Collaboration
      </a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-pencil"></span>
     
    Personal Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ASNA2019CC_datacreation.html">
        <span class="fa fa-code"></span>
         
        ASNA2019 Case Competition
      </a>
    </li>
    <li>
      <a href="Kaggle.html">
        <span class="fa fa-code"></span>
         
        Kaggle Competitions
      </a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    About me
  </a>
</li>
<li>
  <a href="resume.pdf">
    <span class="fa fa-file-pdf-o"></span>
     
    Resume
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">STA130 Fall 2019</h1>
<h4 class="author">Michal Malyska</h4>

</div>


<div id="resources" class="section level1">
<h1>Resources</h1>
</div>
<div id="tutorial-2---data-wrangling-and-r" class="section level1">
<h1>Tutorial 2 - Data Wrangling and R</h1>
<pre class="r"><code>library(tidyverse)
library(forcats)

# For data
library(VGAMdata)
library(insuranceData)</code></pre>
<div id="agenda-for-today" class="section level2">
<h2>Agenda for today:</h2>
<ul>
<li><p>Vocabulary Review</p></li>
<li><p>Boxplots</p></li>
<li><p>Group Discussion</p></li>
<li><p>Written Evaluation (10 minutes - 3 short questions)</p></li>
<li><p>Mentorship Program</p></li>
</ul>
</div>
<div id="vocabulary-review" class="section level2">
<h2>Vocabulary Review:</h2>
<ul>
<li>Mean</li>
</ul>
<p>Mean (also called an average, simple average, or arithmetic mean) is the sum of all elements divided by the count of all the elements.</p>
<p><span class="math display">\[ 
\text{mean}(X) = \bar{X} = \frac{X_1 + X_2 + X_3 + \dots + X_N}{N} = \frac{1}{N} \sum_{i=1}^{N}\left( X_i \right)
\]</span></p>
<pre class="r"><code># Vector of integers from 1 to 100
x &lt;- 1:100

# Mean
mean(x)</code></pre>
<pre><code>## [1] 50.5</code></pre>
<pre class="r"><code>sum(x) / length(x)</code></pre>
<pre><code>## [1] 50.5</code></pre>
<ul>
<li>Median</li>
</ul>
<p>Median - Median is the special name we give to the 2nd Quartile / 0.5 Quantile. It is the number for which 50% of the data is below it. (Essentially the point that splits your data in half)</p>
<pre class="r"><code>median(x)</code></pre>
<pre><code>## [1] 50.5</code></pre>
<ul>
<li>Variance</li>
</ul>
<p>Variance is the average squared distance of your datapoints from the mean. It measures how much the data is spread out from the mean.</p>
<p><span class="math display">\[ 
\text{ (sample) }Var(X) = \frac{\sum\left( X_i - \bar{X} \right)^2}{N-1}
\]</span></p>
<ul>
<li>Standard Deviation (SD)</li>
</ul>
<p>Standard Deviation is the average distance (deviation) of datapoints from the mean. It’s also the square root of the variance</p>
<p><span class="math display">\[
\text{ (sample) }SD(X) = \sqrt{\frac{\sum\left( X_i - \bar{X} \right)^2}{N-1}} =
\sqrt{Var(X)}
\]</span></p>
<pre class="r"><code>sd(x)</code></pre>
<pre><code>## [1] 29.01149</code></pre>
<pre class="r"><code>sqrt(sum((x - mean(x))^2) / (length(x) - 1))</code></pre>
<pre><code>## [1] 29.01149</code></pre>
<pre class="r"><code>sqrt(var(x))</code></pre>
<pre><code>## [1] 29.01149</code></pre>
<ul>
<li>Quartile</li>
</ul>
<p>Quartiles are a set of numbers that split our dataset into quarters (25%). So:</p>
<p>1st Quartile is the number below which 25% of our data is located 2nd Quartile is the number below which 50% of our data is located (Median!) 3rd Quartile is the number below which 75% of our data is located</p>
<ul>
<li>Interquartile Range (IQR)</li>
</ul>
<p>Interquartile range is just the difference between the 3rd Quartile and the 1st Quartile. This means that the middle 50% of the data lies in that range.</p>
<ul>
<li><p>Proportion</p></li>
<li><p>Outlier</p></li>
</ul>
<p>Outliers are the unusual observations. In this course we define the outlier to be an observation that lies outside of a range. (Which is quite common for large datasets)</p>
<p><span class="math display">\[ 
\text{Range} = [Q_1 - 1.5\text{IQR}, Q_3 + 1.5\text{IQR}] = \\
= [Q_1 - 1.5(Q_3 - Q_1), Q_3 + 1.5(Q_3 - Q_1)]
\]</span></p>
<ul>
<li>Boxplot</li>
</ul>
<p>Boxplot is a type of plot for numerical data. It shows the median, 1st and 3rd quartiles, the interquartile range, and outliers into a single plot.</p>
<p>Example in the section below</p>
<ul>
<li><p>R object</p></li>
<li><p>Vector</p></li>
<li><p>Variable Types</p></li>
<li><p>Data Frame / Tibble</p></li>
<li><p>Summary Table</p></li>
<li><p>Summary Statistics</p></li>
</ul>
</div>
<div id="boxplots" class="section level2">
<h2>Boxplots</h2>
<p>When to use boxplots?</p>
<p>When you want to summarize the distribution of a quantitative (numerical) variable. Boxplots visualize five statistics (minimum, maximum, median, 1 st quartile and 3 rd quartile), while also plotting unusual observations (outliers). You can also use a boxplot to summarize these vales according to a categorical variable of interest.</p>
<p>Example: height of athletes, a continuous variable, can be visualized using a boxplot. You may also want to show how this distribution varies by important categorical variables, such as: sport, country of origin, sex, etc.</p>
<p>How:</p>
<pre class="r"><code># Load the data as tibble (not necessary)
df &lt;- as_tibble(oly12)

# Make a boxplot:
df %&gt;% 
    ggplot(aes(x = Sport, y = Age)) +
    geom_boxplot() +
    coord_flip() +
    theme_minimal()</code></pre>
<p><img src="STA130F19_files/figure-html/How%20to%20make%20boxplot-1.png" width="576" /></p>
<p>Limitations: Boxplots are nothing more than visualizations of a couple of nubmers which means they do not give the full picture of your data. If you would like to know about a (better in my opinion) alternative - Violin plots, read the section at the end of this tutorial</p>
</div>
<div id="group-discussion" class="section level2">
<h2>Group Discussion</h2>
<p>For Question 1b, you used both histograms and boxplots to visualize your data. Which features were easier/harder to observe from each of the visualizations? In what situations may you want to choose a boxplot over a histogram, or vice versa? Explain.</p>
<pre class="r"><code>data(&quot;AutoClaims&quot;)
ggplot(data = AutoClaims, aes(x = PAID)) +
    geom_histogram(color = &quot;black&quot;,fill = &quot;gray&quot;, bins = 30) -&gt; p1

ggplot(data = AutoClaims, aes(x = &quot;&quot;, y = PAID)) +
    geom_boxplot() -&gt; p2

gridExtra::grid.arrange(p1,p2, ncol=2)</code></pre>
<p><img src="STA130F19_files/figure-html/unnamed-chunk-1-1.png" width="576" /></p>
</div>
<div id="written-evaluation" class="section level2">
<h2>Written Evaluation</h2>
<p>Self Reflection (10 Minutes):</p>
<ul>
<li><p>What questions, if any, do you have so far regarding the course materials?</p></li>
<li><p>What is one of your favorite things about tutorial?</p></li>
<li><p>Least favorite?</p></li>
</ul>
<p>That’s it! What matters - Please try giving it some thought and avoid giving one word answers.</p>
<p><strong>SUBMIT TO QUERCUS</strong></p>
</div>
<div id="mentorship-program" class="section level2">
<h2>Mentorship Program</h2>
</div>
<div id="additional-resources" class="section level2">
<h2>Additional Resources</h2>
<div id="violin-plots" class="section level3">
<h3>Violin Plots:</h3>
<p>In addition to plotting just the summary of data which underlies the boxplots, violin plots provide an overview of how the data is spread along that axis. A side by side comparison of the two is below.</p>
<pre class="r"><code># Boxplot
df %&gt;% filter(Sport == &quot;Hockey&quot;) %&gt;%
    ggplot(aes(x = Sport, y = Age)) +
    geom_boxplot() +
    theme_minimal() +
    labs(title = &quot;Boxplot&quot;) -&gt; p1

df %&gt;% filter(Sport == &quot;Hockey&quot;) %&gt;%
    ggplot(aes(x = Sport, y = Age)) +
    geom_violin() +
    theme_minimal() +
    labs(title = &quot;Violin Plot&quot; ) -&gt; p2

gridExtra::grid.arrange(p1, p2, ncol = 2)</code></pre>
<p><img src="STA130F19_files/figure-html/Violin%20vs%20Boxplot-1.png" width="576" /></p>
<pre class="r"><code>df %&gt;% filter(Sport == &quot;Hockey&quot;) %&gt;%
    ggplot(aes(x = Sport, y = Age)) +
    geom_violin() +
    geom_boxplot() +
    theme_minimal() +
    labs(title = &quot;Combined Plot&quot; )</code></pre>
<p><img src="STA130F19_files/figure-html/Violin%20vs%20Boxplot-2.png" width="576" /></p>
</div>
</div>
</div>
<div id="tutorial-3" class="section level1">
<h1>Tutorial 3</h1>
<div id="agenda-for-today-1" class="section level2">
<h2>Agenda for today:</h2>
<ul>
<li><p>Attendance and names (Please make your nametags again!)</p></li>
<li><p>Review of last weeks feedback</p></li>
<li><p>Going over some writing examples</p></li>
<li><p>Some course material examples (maybe live coding)</p></li>
<li><p>Group Discussions</p></li>
<li><p>Writing Activity</p></li>
</ul>
</div>
<div id="atendance-and-names" class="section level2">
<h2>Atendance and Names</h2>
<p>I am still trying to learn your names. Please take pieces of paper, write your preferred names on them in big letters and put them in front of you.</p>
</div>
<div id="review-of-last-weeks-feedback" class="section level2">
<h2>Review of last weeks feedback</h2>
<ol style="list-style-type: decimal">
<li><p>You want to see more code - I will try live coding with you guys for 10-15 minutes each tutorial and include it on the website later.</p></li>
<li><p>Why we do things the way we do in this class - Some context for you guys</p></li>
<li><p>Using aids for your written activity</p></li>
<li><p>Short time for written activities</p></li>
<li><p>Vote on additional materials</p></li>
</ol>
<p>Vote <a href="https://www.surveymonkey.com/r/WR28GHD">here</a></p>
</div>
<div id="writing-examples" class="section level2">
<h2>Writing Examples</h2>
<div id="example-1" class="section level3">
<h3>Example 1</h3>
<p><img src="figures/T3%20Writing%20Example%20STA130F19.png" /></p>
</div>
<div id="example-2" class="section level3">
<h3>Example 2</h3>
<p><strong>Take 2 minutes to read this over and identify what is good and what is bad </strong></p>
<p>Study skills and students’ satisfaction with their performance positively affect their academic achievement. The current research was carried out to investigate the correlation of study skills with academic achievement among the medical and pharmacy students in 2013. This descriptive-analytical study was conducted on 148 students of basic medical sciences and pharmacy through convenience sampling. Data were collected by a valid and reliable questionnaire, consisting of two sections: Demographic information and questions about daily study hours, study skills in six domains, and students’ satisfaction with study skills. Collected data sets were analyzed by SPSS-16 software. In total, 10.9% of students were reported to have favorable study skills. The minimum score was found for preparation for examination domain. Also, a positive correlation was observed between students’ study skills and their Grade Point Average (GPA) of previous term (r=0.269) and satisfaction with study skills (r=0.493). The findings indicated that students’ study skills need to be improved. Given the relationship between study skills and GPA, as an index of academic achievement, and satisfaction, it is necessary to promote the students’ study skills. These skills are suggested to be reinforced, with more emphasis on weaker domains.</p>
<p><em>Notes about this example: It clearly summarizes all components of a traditional abstract and makes it easy for readers to understand the focus of the research.</em></p>
</div>
<div id="example-3" class="section level3">
<h3>Example 3</h3>
<p><strong>Take 2 minutes to read this over and identify what is good and what is bad </strong></p>
<p>Participants were 477 male, first year students at a liberal arts college. In the week before the start of classes, participants were given two surveys: one of expected college engagement, and the second of video game usage, including a measure of video game addiction. Results suggested that video game addiction is: (a) negatively correlated with expected college engagement, (b) negatively correlated with college grade point average (GPA), even when controlling for high school GPA, and (c) negatively correlated with drug and alcohol violations that occurred during the first year in college.</p>
<p><em>Notes on this example: It doesn’t specifically state why the problem is worth researching, though it is implied as the study focuses on addiction. There is no clear objective; for example: “This study explored the pattern of video game usage and addiction among male college students and examined how video game addiction was related to expectations of college engagement, college GPA, and on-campus drug and alcohol violations.”</em></p>
</div>
<div id="good-resource-for-writing-examples" class="section level3">
<h3>Good resource for writing examples</h3>
<p>More examples with explanations can be found <a href="https://www.kibin.com/essay-writing-blog/10-good-abstract-examples/">here</a></p>
</div>
</div>
<div id="vocab-and-coding" class="section level2">
<h2>Vocab and coding</h2>
<div id="vocab" class="section level3">
<h3>Vocab</h3>
<ul>
<li><p>Cleaning data</p></li>
<li><p>Tidy data</p></li>
<li><p>Removing a column</p></li>
<li><p>Replacing values above/below a certain threshold</p></li>
<li><p>Taking the subset of variables</p></li>
<li><p>Filtering the data frame based on a condition (e.g. based on one of the variables/columns)</p></li>
<li><p>Sorting data based on a variable</p></li>
<li><p>Renaming the variables</p></li>
<li><p>Grouping categories</p></li>
<li><p>Defining new variables</p></li>
<li><p>Producing new data frames</p></li>
<li><p>Handling missing values (NAs)</p></li>
<li><p>Creating summary tables</p></li>
</ul>
</div>
<div id="live-coding-session" class="section level3">
<h3>Live coding session</h3>
<pre class="r"><code>data_original &lt;- read_csv(&quot;~/Desktop/University/Undergrad/Statistics/TA-ing/STA130/titanic.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   Name = col_character(),
##   Survived = col_character(),
##   Boarded = col_character(),
##   Class = col_character(),
##   MWC = col_character(),
##   Age = col_double(),
##   Adut_or_Chld = col_character(),
##   Sex = col_character(),
##   Paid = col_double(),
##   Ticket_No = col_character(),
##   Boat_or_Body = col_character(),
##   Job = col_character(),
##   Class_Dept = col_character(),
##   Class_Full = col_character()
## )</code></pre>
<pre class="r"><code>df &lt;- data_original
# Look at column names
colnames(df)</code></pre>
<pre><code>##  [1] &quot;Name&quot;         &quot;Survived&quot;     &quot;Boarded&quot;      &quot;Class&quot;       
##  [5] &quot;MWC&quot;          &quot;Age&quot;          &quot;Adut_or_Chld&quot; &quot;Sex&quot;         
##  [9] &quot;Paid&quot;         &quot;Ticket_No&quot;    &quot;Boat_or_Body&quot; &quot;Job&quot;         
## [13] &quot;Class_Dept&quot;   &quot;Class_Full&quot;</code></pre>
<pre class="r"><code>df %&gt;% ggplot(aes(facet = Survived, x = Paid)) +
    geom_histogram(bins = 75) +
    facet_wrap(. ~ Survived) +
    theme_minimal() +
    labs(title = &quot;Distribution of Prices for Titanic Survivors&quot;,
         subtitle = &quot;Split by Survivor status&quot;)</code></pre>
<pre><code>## Warning: Removed 890 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="STA130F19_files/figure-html/Titanic%20Data%20Analysis-1.png" width="576" /></p>
<pre class="r"><code>df %&gt;% ggplot(aes(facet = Survived, y = Paid)) +
    geom_boxplot() +
    facet_wrap(. ~ Survived) +
    theme_minimal() +
    labs(title = &quot;Distribution of Prices for Titanic Survivors&quot;,
         subtitle = &quot;Split by Survivor status&quot;)</code></pre>
<pre><code>## Warning: Removed 890 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="STA130F19_files/figure-html/Titanic%20Data%20Analysis-2.png" width="576" /></p>
<pre class="r"><code>summary_table &lt;- df %&gt;%
    group_by(Survived) %&gt;%
    summarize(minimum = min(Paid, na.rm = TRUE),
              median = median(Paid,  na.rm = TRUE),
              mean = mean(Paid, na.rm = TRUE),
              maximum = max(Paid, na.rm = TRUE)) 

summary_table</code></pre>
<pre><code>## # A tibble: 2 x 5
##   Survived minimum median  mean maximum
##   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
## 1 Alive          0   26    49.6    512.
## 2 Dead           0   10.5  22.9    263</code></pre>
<p>Below is some well commented data analysis of an insurance dataset I made a while ago for some competition. It’s available on my website under personal projects tab -&gt; ASNA2019 Case Competition tab.</p>
<pre class="r"><code># Load data specifying all possible options:
df &lt;- read_csv(file = &quot;training_data.csv&quot;, # file path relative to your working directory
                  col_names = TRUE, # Does the file include column names
                  na = c(&quot;&quot;, &quot;NA&quot;, &quot;N/A&quot;), # What are the missing values in the file 
                  #(specified in a vector)
                  quoted_na = TRUE, # should missing values inside of quotes be missing
                  skip = 0, # How many lines to skip
                  n_max = Inf, # How many lines to read at most (Inf = infinity)
                  guess_max = 10000 # How many records to use to guess the type of column
                  # if not specified in col_types = c()
                  )</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   id = col_double(),
##   Education = col_character(),
##   EmploymentStatus = col_character(),
##   Income = col_double(),
##   `Marital Status` = col_character(),
##   `State Code` = col_character(),
##   Coverage = col_character(),
##   Gender = col_character(),
##   `Location Code` = col_character(),
##   `Monthly Premium Auto` = col_double(),
##   `Months Since Last Claim` = col_double(),
##   `Months Since Policy Inception` = col_double(),
##   `Number of Open Complaints` = col_double(),
##   `Number of Policies` = col_double(),
##   `Claim Reason` = col_character(),
##   `Sales Channel` = col_character(),
##   `Vehicle Class` = col_character(),
##   `Vehicle Size` = col_character(),
##   `Claim Class` = col_double()
## )</code></pre>
<p>Note that the function read_csv() is the tidyverse version and is different from read.csv(). That’s the one you should use.</p>
<pre class="r"><code>summary1 &lt;- df %&gt;% # This line specifies the new dataset name, and starting data + pipe into
    dplyr::select(`Vehicle Size`, `Claim Class`, `Monthly Premium Auto`, Coverage, `Marital Status`) %&gt;%
    # I select only the few columns of interest
    filter(`Monthly Premium Auto` &gt; 65) %&gt;% # I only want the people that have Auto premiums above
    # 65, this will usually come from the business or research question you are trying to answer
    group_by(`Vehicle Size`, Coverage, `Marital Status`) %&gt;% # I want to summarize
    #them by the categorical variables
    summarise(mean_prem = mean(`Monthly Premium Auto`), # I want to have mean auto premium
              count = n(), # Count of those vehicles
              avg_sev = mean(`Claim Class`) # I want to have the average Claim Class (severity)
              )
# Now I will take this created summary and analyze it further:

summary2 &lt;- summary1 %&gt;% 
    mutate(Total_Premium = mean_prem * count) %&gt;% # I create the total premium from the group
    # as Average Premium * count of policies in that group
    filter(Total_Premium &gt; 100000) # Filter out lines of business that are
    # under 100k in total premium</code></pre>
<pre class="r"><code>plot &lt;- ggplot(data = summary2, # Create a plot object, from summary2
               mapping = aes(x = `Vehicle Size`, # x axis is Vehicle Size
                            y = `Total_Premium`, # y axis is Total Premium
                            fill = Coverage)) + # The inside of the figures is colored by coverage
    geom_col(show.legend = TRUE) + # Add a column plot (barplot is for frequencies in ggplot2)
    coord_flip() + # Flip the chart to be sideways
    theme_minimal() + # Set the minimal theme
    labs(title = &quot;Simple plotting illustration&quot;, # Add title
         x = &quot;Vehicle Size&quot;, # Rename X axis
         y = &quot;Total Premium($)&quot;) # Rename Y axis 

plot # Show the plot</code></pre>
<p><img src="STA130F19_files/figure-html/Basic%20Plotting-1.png" width="576" /></p>
<p>Inline code demonstration for reporting :</p>
<p>I want to return the mean total premium from my summary2 table that I created above. To do this I write</p>
<p>r mean(summary2$Total_Premium)</p>
<dl>
<dt>surrounded by single backticks (`) and what shows up when I knit the file is</dt>
<dd>287671.0909091
</dd>
</dl>
</div>
</div>
<div id="group-discussions" class="section level2">
<h2>Group Discussions</h2>
<p>Question 1: (Based on Practice Problem 1.h)</p>
<ol style="list-style-type: lower-roman">
<li><p>Construct a pair of histograms (using facet_wrap) to visualize the distribution of ticket prices for survivors and non-survivors. Write 2-3 sentences comparing the two distributions based on these plots.</p></li>
<li><p>Construct a pair of boxplots to visualize the distribution of ticket prices for survivors and non-survivors. Write 2-3 sentences comparing the two distributions based on these plots.</p></li>
<li><p>Construct a summary table with the minimum, median, mean, and maximum ticket price for survivors and non-survivors. Write 2-3 sentences comparing the two distributions based on this summary table.</p></li>
</ol>
<p>Comment on the strengths and weaknesses of each of the visualizations and summary table you constructed in parts (i), (ii), and (iii).</p>
</div>
<div id="written-evaluation-1" class="section level2">
<h2>Written Evaluation</h2>
<p>Imagine you work as a business analyst for a new cruise company, Fun Cruises. Your CEO has asked you to deliver a written summary of your most interesting research findings on the Titanic (practice problem 1). They want this by the end of the day because they’re meeting a new client tonight for dinner and think this research will be of interest to them. It’s already 3:30 pm and it’s a Friday!</p>
<p>Remember, your CEO is a busy person. They only want the most important information and they don’t want to read more than half a page of text. Use visuals to help get key points across, if you can. The CEO has only limited statistical background, so make sure everything is clear and makes sense! Remember to start with the purpose - your CEO is busy and they may have forgotten exactly what your research was about! Also make sure to include a complete, but concise, summary of the methods, key results, and a conclusion. Remember, you’re the statistics expert and the CEO is counting on you to summary this research!</p>
<p><strong>SUBMIT ON QUERCUS</strong></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
